<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Line?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.nexora.bank.controllers.SignupController"
            stylesheets="@../css/Auth.css"
            styleClass="auth-root">

    <left>
        <StackPane styleClass="auth-left-shell" prefWidth="470" minWidth="430">
            <Pane styleClass="auth-left-decor" mouseTransparent="true">
                <Circle radius="180" layoutX="355" layoutY="120" styleClass="auth-orb-a"/>
                <Circle radius="145" layoutX="65" layoutY="520" styleClass="auth-orb-b"/>
                <Circle radius="95" layoutX="315" layoutY="620" styleClass="auth-orb-c"/>
                <Line startX="0" startY="245" endX="470" endY="245" styleClass="auth-grid-line"/>
                <Line startX="0" startY="465" endX="470" endY="465" styleClass="auth-grid-line"/>
                <Line startX="160" startY="0" endX="160" endY="760" styleClass="auth-grid-line"/>
                <Line startX="330" startY="0" endX="330" endY="760" styleClass="auth-grid-line"/>
            </Pane>

            <VBox styleClass="auth-left-content" spacing="26" alignment="TOP_LEFT">
                <padding>
                    <Insets top="44" right="38" bottom="44" left="38"/>
                </padding>

                <HBox spacing="14" alignment="CENTER_LEFT">
                    <StackPane styleClass="auth-brand-badge">
                        <ImageView fitWidth="36" fitHeight="36" preserveRatio="true">
                            <Image url="@../images/logo.png"/>
                        </ImageView>
                    </StackPane>
                    <VBox spacing="2">
                        <Label text="NEXORA" styleClass="auth-brand-title"/>
                        <Label text="Banking Platform" styleClass="auth-brand-subtitle"/>
                    </VBox>
                </HBox>

                <Label text="ONBOARDING" styleClass="auth-kicker"/>
                <Label text="Create Account" styleClass="auth-hero-title"/>
                <Label text="Register your operator profile and start managing your banking operations in a unified workspace." wrapText="true" styleClass="auth-hero-text"/>

                <VBox spacing="12" styleClass="auth-feature-list">
                    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-feature-item">
                        <FontIcon iconLiteral="fas-id-badge" styleClass="auth-feature-icon"/>
                        <Label text="Professional role-based access" styleClass="auth-feature-label"/>
                    </HBox>
                    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-feature-item">
                        <FontIcon iconLiteral="fas-fingerprint" styleClass="auth-feature-icon"/>
                        <Label text="Secure identity and credential flow" styleClass="auth-feature-label"/>
                    </HBox>
                    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-feature-item">
                        <FontIcon iconLiteral="fas-server" styleClass="auth-feature-icon"/>
                        <Label text="Production-ready management modules" styleClass="auth-feature-label"/>
                    </HBox>
                </VBox>

                <Region VBox.vgrow="ALWAYS"/>

                <HBox spacing="24" styleClass="auth-trust-row" alignment="CENTER_LEFT">
                    <VBox spacing="2">
                        <Label text="SOC 2" styleClass="auth-trust-value"/>
                        <Label text="Compliance" styleClass="auth-trust-label"/>
                    </VBox>
                    <VBox spacing="2">
                        <Label text="MFA" styleClass="auth-trust-value"/>
                        <Label text="Ready" styleClass="auth-trust-label"/>
                    </VBox>
                    <VBox spacing="2">
                        <Label text="Audit" styleClass="auth-trust-value"/>
                        <Label text="Trail" styleClass="auth-trust-label"/>
                    </VBox>
                </HBox>
            </VBox>
        </StackPane>
    </left>

    <center>
        <StackPane styleClass="auth-center-pane">
            <VBox styleClass="auth-card auth-card-signup" spacing="14">
                <padding>
                    <Insets top="28" right="32" bottom="28" left="32"/>
                </padding>

                <HBox styleClass="auth-card-badge" spacing="8" alignment="CENTER_LEFT">
                    <FontIcon iconLiteral="fas-user-shield" styleClass="auth-card-badge-icon"/>
                    <Label text="Operator Registration" styleClass="auth-card-badge-text"/>
                </HBox>

                <VBox spacing="6">
                    <Label text="Sign Up" styleClass="auth-title"/>
                    <Label text="Create a new platform account." styleClass="auth-subtitle"/>
                </VBox>

                <HBox spacing="12">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Full Name" styleClass="auth-label"/>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-input-wrap">
                            <FontIcon iconLiteral="fas-user" styleClass="auth-input-icon"/>
                            <TextField fx:id="txtFullName" promptText="Ex: Sara Ben Ali" styleClass="auth-input" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>

                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Phone" styleClass="auth-label"/>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-input-wrap">
                            <FontIcon iconLiteral="fas-phone-alt" styleClass="auth-input-icon"/>
                            <TextField fx:id="txtPhone" promptText="+216 00 000 000" styleClass="auth-input" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>
                </HBox>

                <VBox spacing="8">
                    <Label text="Email" styleClass="auth-label"/>
                    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-input-wrap">
                        <FontIcon iconLiteral="fas-envelope" styleClass="auth-input-icon"/>
                        <TextField fx:id="txtEmail" promptText="name@company.com" styleClass="auth-input" HBox.hgrow="ALWAYS"/>
                    </HBox>
                </VBox>

                <HBox spacing="12">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="OTP Verification Code" styleClass="auth-label"/>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-input-wrap">
                            <FontIcon iconLiteral="fas-shield-alt" styleClass="auth-input-icon"/>
                            <TextField fx:id="txtOtp" promptText="Enter 6-digit OTP" styleClass="auth-input" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>
                    <VBox spacing="8" alignment="BOTTOM_CENTER">
                        <Label text=" " styleClass="auth-label"/>
                        <Button text="Send OTP" styleClass="auth-button-ghost" onAction="#handleSendOtp"/>
                    </VBox>
                </HBox>

                <HBox spacing="12">
                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Password" styleClass="auth-label"/>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-input-wrap">
                            <FontIcon iconLiteral="fas-key" styleClass="auth-input-icon"/>
                            <PasswordField fx:id="txtPassword" promptText="Create password" styleClass="auth-input" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>

                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Confirm Password" styleClass="auth-label"/>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="auth-input-wrap">
                            <FontIcon iconLiteral="fas-check-circle" styleClass="auth-input-icon"/>
                            <PasswordField fx:id="txtConfirmPassword" promptText="Confirm password" styleClass="auth-input" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>
                </HBox>

                <Label fx:id="lblMessage" styleClass="auth-error"/>

                <Button text="Create Account" styleClass="auth-button-primary" onAction="#handleSignup" maxWidth="Infinity"/>

                <HBox alignment="CENTER" spacing="8">
                    <Label text="Already registered?" styleClass="auth-muted"/>
                    <Hyperlink text="Login" styleClass="auth-link" onAction="#openLogin"/>
                </HBox>

                <Button text="Back to Home" styleClass="auth-button-ghost" onAction="#openHome" maxWidth="Infinity"/>
            </VBox>
        </StackPane>
    </center>
</BorderPane>
