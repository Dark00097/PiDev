<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.nexora.bank.controllers.UserDashboardController" 
            stylesheets="@../css/UserDashboard.css" styleClass="root-container">

    
    <top>
        <VBox styleClass="top-navbar-wrapper">
            
            <HBox styleClass="top-navbar" alignment="CENTER_LEFT" spacing="0">
                <padding>
                    <Insets top="0" right="24" bottom="0" left="24"/>
                </padding>

                
                <HBox styleClass="navbar-brand" spacing="12" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="12" right="24" bottom="12" left="0"/>
                    </padding>
                    <StackPane styleClass="brand-logo-container">
                        <ImageView fitWidth="24" fitHeight="24" preserveRatio="true" styleClass="brand-logo-image">
                            <image>
                                <Image url="@../images/logo.png"/>
                            </image>
                        </ImageView>
                    </StackPane>
                    <VBox spacing="0" alignment="CENTER_LEFT">
                        <Label text="NEXORA" styleClass="brand-name"/>
                        <Label text="Private Banking" styleClass="brand-subtitle"/>
                    </VBox>
                </HBox>

                <Separator orientation="VERTICAL" styleClass="navbar-separator"/>

                
                <HBox styleClass="nav-menu-horizontal" spacing="4" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="16" bottom="8" left="16"/>
                    </padding>

                    <Button fx:id="btnCompte" styleClass="nav-button-horizontal,nav-button-active" onAction="#showCompte">
                        <graphic>
                            <HBox spacing="8" alignment="CENTER">
                                <StackPane styleClass="nav-icon-box-horizontal">
                                    <FontIcon iconLiteral="fas-wallet" styleClass="nav-icon"/>
                                </StackPane>
                                <Label text="Accounts" styleClass="nav-button-text-horizontal"/>
                            </HBox>
                        </graphic>
                    </Button>

                    <Button fx:id="btnTransaction" styleClass="nav-button-horizontal" onAction="#showTransaction">
                        <graphic>
                            <HBox spacing="8" alignment="CENTER">
                                <StackPane styleClass="nav-icon-box-horizontal">
                                    <FontIcon iconLiteral="fas-exchange-alt" styleClass="nav-icon"/>
                                </StackPane>
                                <Label text="Transactions" styleClass="nav-button-text-horizontal"/>
                            </HBox>
                        </graphic>
                    </Button>

                    <Button fx:id="btnCredit" styleClass="nav-button-horizontal" onAction="#showCredit">
                        <graphic>
                            <HBox spacing="8" alignment="CENTER">
                                <StackPane styleClass="nav-icon-box-horizontal">
                                    <FontIcon iconLiteral="fas-credit-card" styleClass="nav-icon"/>
                                </StackPane>
                                <Label text="Credit" styleClass="nav-button-text-horizontal"/>
                            </HBox>
                        </graphic>
                    </Button>

                    <Button fx:id="btnCashback" styleClass="nav-button-horizontal" onAction="#showCashback">
                        <graphic>
                            <HBox spacing="8" alignment="CENTER">
                                <StackPane styleClass="nav-icon-box-horizontal">
                                    <FontIcon iconLiteral="fas-gift" styleClass="nav-icon"/>
                                </StackPane>
                                <Label text="Rewards" styleClass="nav-button-text-horizontal"/>
                            </HBox>
                        </graphic>
                    </Button>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                
                <HBox spacing="10" alignment="CENTER" styleClass="status-chips-container">
                    <padding>
                        <Insets top="0" right="16" bottom="0" left="0"/>
                    </padding>
                    <HBox styleClass="status-chip status-chip-secure" spacing="6" alignment="CENTER">
                        <FontIcon iconLiteral="fas-shield-alt" styleClass="status-chip-icon"/>
                        <Label text="Secured" styleClass="status-chip-text"/>
                    </HBox>

                    <HBox styleClass="status-chip status-chip-live" spacing="6" alignment="CENTER">
                        <StackPane styleClass="pulse-dot"/>
                        <Label text="Live" styleClass="status-chip-text"/>
                    </HBox>
                </HBox>

                <Separator orientation="VERTICAL" styleClass="navbar-separator"/>

                
                <HBox spacing="8" alignment="CENTER" styleClass="navbar-actions">
                    <padding>
                        <Insets top="0" right="16" bottom="0" left="16"/>
                    </padding>

                    <Button styleClass="navbar-action-button" onAction="#openNotifications">
                        <graphic>
                            <StackPane>
                                <FontIcon iconLiteral="fas-bell" styleClass="navbar-action-icon"/>
                                <StackPane styleClass="notification-dot" StackPane.alignment="TOP_RIGHT">
                                    <Label text="3" styleClass="notification-dot-text"/>
                                </StackPane>
                            </StackPane>
                        </graphic>
                    </Button>

                    <Button fx:id="btnSettings" styleClass="navbar-action-button" onAction="#openSettings">
                        <graphic>
                            <FontIcon iconLiteral="fas-cog" styleClass="navbar-action-icon"/>
                        </graphic>
                    </Button>
                </HBox>

                <Separator orientation="VERTICAL" styleClass="navbar-separator"/>

                
                <HBox styleClass="navbar-user-profile" spacing="12" alignment="CENTER">
                    <padding>
                        <Insets top="8" right="0" bottom="8" left="16"/>
                    </padding>
                    
                    <VBox spacing="1" alignment="CENTER_RIGHT">
                        <Label fx:id="lblUserName" text="Welcome back" styleClass="navbar-user-name"/>
                        <Label text="Premium Account" styleClass="navbar-user-type"/>
                    </VBox>
                    
                    <StackPane styleClass="navbar-user-avatar">
                        <FontIcon iconLiteral="fas-user" styleClass="navbar-user-avatar-icon"/>
                        <StackPane styleClass="status-indicator-online" StackPane.alignment="BOTTOM_RIGHT"/>
                    </StackPane>

                    <Button styleClass="signout-button-compact" onAction="#openHome">
                        <graphic>
                            <FontIcon iconLiteral="fas-sign-out-alt" styleClass="signout-icon-compact"/>
                        </graphic>
                    </Button>
                </HBox>
            </HBox>

            
            <HBox styleClass="page-header-bar" alignment="CENTER_LEFT" spacing="16">
                <padding>
                    <Insets top="16" right="28" bottom="16" left="28"/>
                </padding>

                <VBox spacing="2">
                    <Label fx:id="lblPageTitle" text="Bank Accounts" styleClass="page-title"/>
                    <Label fx:id="lblPageSubtitle" text="Manage and monitor your accounts" styleClass="page-subtitle"/>
                </VBox>

                <Region HBox.hgrow="ALWAYS"/>

                
                <HBox spacing="8" alignment="CENTER_RIGHT" styleClass="page-header-actions">
                    <Label text="Dashboard" styleClass="breadcrumb-text"/>
                    <FontIcon iconLiteral="fas-chevron-right" styleClass="breadcrumb-icon"/>
                    <Label fx:id="lblBreadcrumb" text="Accounts" styleClass="breadcrumb-text-active"/>
                </HBox>
            </HBox>
        </VBox>
    </top>

    
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="content-scroll">
            <StackPane styleClass="content-area">
                <padding>
                    <Insets top="24" right="28" bottom="32" left="28"/>
                </padding>

                
                <Pane styleClass="decorative-bg" mouseTransparent="true" pickOnBounds="false">
                    <Circle styleClass="deco-shape deco-orb deco-shape-1" layoutX="240" layoutY="230" radius="210"/>
                    <Circle styleClass="deco-shape deco-orb deco-shape-2" layoutX="1020" layoutY="190" radius="180"/>
                    <Circle styleClass="deco-shape deco-orb deco-shape-3" layoutX="860" layoutY="560" radius="160"/>
                </Pane>

                
                <fx:include fx:id="sectionCompte" source="sections/UserDashboardAccountsSection.fxml"/>
                <fx:include fx:id="sectionTransaction" source="sections/UserDashboardTransactionsSection.fxml"/>
                <fx:include fx:id="sectionCredit" source="sections/UserDashboardCreditSection.fxml"/>
                <fx:include fx:id="sectionCashback" source="sections/UserDashboardCashbackSection.fxml"/>
                <fx:include fx:id="sectionProfile" source="sections/UserDashboardProfileSection.fxml"/>
            </StackPane>
        </ScrollPane>
    </center>
</BorderPane>

